# =============================
# LLM4ArxivPaper Configuration Example
# 
# This is a template showing how to properly configure environment variables.
# Copy this to pipeline.yaml and fill in your values.
# =============================

openai:
  # REQUIRED in online mode: Set your OpenAI API key
  # Get it from: https://platform.openai.com/api-keys
  # Usage: export API_KEY="sk-proj-xxxxx"
  api_key: "${API_KEY}"

  # OPTIONAL: Custom API base URL
  # Default: https://api.openai.com/v1 (official OpenAI)
  # For Azure: https://your-resource.openai.azure.com/
  # Usage: export BASE_URL="https://api.openai.com/v1"
  base_url: "${BASE_URL}"

  # Model configurations
  relevance_model: "gpt-4o-mini"
  summarization_model: "gpt-4o"
  temperature: 0.2
  language: "zh-CN"

fetch:
  max_papers_per_topic: 50
  days_back: 7
  request_delay: 3.0

topics:
  - name: "software_testing"
    label: "软件测试"
    query:
      categories: ["cs.SE", "cs.AI"]
      include: ["software testing", "test automation"]
      exclude: ["quantum", "biomedical"]
    interest_prompt: |
      我关注大语言模型辅助软件测试的研究，尤其关注测试生成、覆盖率提升和缺陷定位方面的最新方法。

  - name: "code_generation"
    label: "代码生成"
    query:
      categories: ["cs.AI", "cs.CL"]
      include: ["code generation", "program synthesis"]
      exclude: []
    interest_prompt: |
      我希望了解大型语言模型如何改进代码生成质量，包括提示工程、约束生成和评估方法。

relevance:
  scoring_dimensions:
    - name: "topic_alignment"
      weight: 0.35
      description: "Whether paper research direction aligns with my focus areas"
    - name: "methodology_fit"
      weight: 0.25
      description: "Whether proposed methods are directly relevant to my concerns"
    - name: "novelty"
      weight: 0.2
      description: "Whether paper provides novel contributions or perspectives"
    - name: "experiment_coverage"
      weight: 0.2
      description: "Whether experiment/evaluation setup sufficiently answers key questions"
  pass_threshold: 60

summarization:
  task_list_size: 5
  max_sections: 4

site:
  output_dir: "site"
  base_url: "https://{$GITHUB_USERNAME}.github.io/LLM4ArxivPaper"

email:
  # Set to false to disable email notifications
  enabled: false

  # REQUIRED when enabled: Email configuration
  # For Gmail: Use app-specific password from https://myaccount.google.com/apppasswords
  # Usage: export MAIL_USERNAME="your-email@gmail.com"
  #        export MAIL_PASSWORD="your-app-password"
  sender: "${MAIL_USERNAME}"
  recipients: ["your-email@example.com"]
  
  # SMTP settings (Gmail example)
  smtp_host: "smtp.gmail.com"
  smtp_port: 465
  username: "${MAIL_USERNAME}"
  password: "${MAIL_PASSWORD}"
  use_tls: false
  use_ssl: true
  timeout: 30
  
  subject_template: "📑 Weekly Paper Reading - {run_date}"

runtime:
  # Mode: "online" (uses OpenAI API) or "offline" (heuristic scoring)
  # online mode requires API_KEY environment variable
  mode: "online"
  
  # Limit papers per topic (null = use fetch.max_papers_per_topic)
  paper_limit: null
